{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":38,"index":198}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/MarketContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.MarketProvider = MarketProvider;\n  exports.useMarket = useMarket;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const MarketContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function MarketProvider({\n    children\n  }) {\n    _s();\n    const [markets, setMarkets] = (0, _react.useState)([]);\n    const [currentMarket, setCurrentMarket] = (0, _react.useState)(null);\n    const [needsSelection, setNeedsSelection] = (0, _react.useState)(false);\n    const [detectedCountry, setDetectedCountry] = (0, _react.useState)(null);\n    const [suggestedMarketId, setSuggestedMarketId] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadMarketData();\n    }, []);\n    const loadMarketData = async () => {\n      try {\n        // Load available markets\n        const marketsResponse = await _servicesApi.api.get('/markets');\n        setMarkets(marketsResponse.data.markets);\n\n        // Try to detect country from IP\n        let geoData = {};\n        try {\n          const geoResponse = await _servicesApi.api.get('/geo/detect');\n          geoData = geoResponse.data;\n          setDetectedCountry(geoData.detected_country || null);\n          setSuggestedMarketId(geoData.suggested_market_id || null);\n        } catch (e) {\n          console.log('Geo detection not available');\n        }\n\n        // Check if user has a market set (if authenticated)\n        const token = await AsyncStorage.default.getItem('token');\n        if (token) {\n          try {\n            const marketResponse = await _servicesApi.api.get('/me/market');\n            if (marketResponse.data.market) {\n              setCurrentMarket(marketResponse.data.market);\n              setNeedsSelection(false);\n            } else {\n              // For authenticated users without market, use suggested market automatically\n              // Market selection should only be prompted during registration, not login\n              const suggestedId = geoData.suggested_market_id || geoData.market_id;\n              if (suggestedId) {\n                const suggestedMarket = marketsResponse.data.markets.find(m => m.market_id === suggestedId);\n                if (suggestedMarket) {\n                  setCurrentMarket(suggestedMarket);\n                  // Auto-save this market for the user\n                  try {\n                    await _servicesApi.api.put('/me/market', {\n                      market_id: suggestedMarket.market_id\n                    });\n                  } catch (e) {\n                    console.error('Failed to auto-save market:', e);\n                  }\n                  setNeedsSelection(false);\n                } else {\n                  // Fallback to first available market instead of showing modal\n                  if (marketsResponse.data.markets.length > 0) {\n                    const fallbackMarket = marketsResponse.data.markets[0];\n                    setCurrentMarket(fallbackMarket);\n                    try {\n                      await _servicesApi.api.put('/me/market', {\n                        market_id: fallbackMarket.market_id\n                      });\n                    } catch (e) {\n                      console.error('Failed to auto-save fallback market:', e);\n                    }\n                    setNeedsSelection(false);\n                  } else {\n                    setNeedsSelection(true);\n                  }\n                }\n              } else {\n                // No geo data available - use first market as fallback for authenticated users\n                if (marketsResponse.data.markets.length > 0) {\n                  const fallbackMarket = marketsResponse.data.markets[0];\n                  setCurrentMarket(fallbackMarket);\n                  try {\n                    await _servicesApi.api.put('/me/market', {\n                      market_id: fallbackMarket.market_id\n                    });\n                  } catch (e) {\n                    console.error('Failed to auto-save fallback market:', e);\n                  }\n                  setNeedsSelection(false);\n                } else {\n                  setNeedsSelection(true);\n                }\n              }\n            }\n          } catch (e) {\n            // User not authenticated or no market set - don't show modal for logged in users\n            // Just use the first available market\n            if (marketsResponse.data.markets.length > 0) {\n              const fallbackMarket = marketsResponse.data.markets[0];\n              setCurrentMarket(fallbackMarket);\n              setNeedsSelection(false);\n            } else {\n              setNeedsSelection(true);\n            }\n          }\n        } else {\n          // Check local storage for market preference (for non-authenticated users)\n          const storedMarketId = await AsyncStorage.default.getItem('selected_market_id');\n          if (storedMarketId && marketsResponse.data.markets) {\n            const found = marketsResponse.data.markets.find(m => m.market_id === storedMarketId);\n            if (found) {\n              setCurrentMarket(found);\n              setNeedsSelection(false);\n            } else {\n              setNeedsSelection(true);\n            }\n          } else {\n            // For non-authenticated users without stored preference, show selection\n            setNeedsSelection(true);\n          }\n        }\n      } catch (error) {\n        console.error('Failed to load market data:', error);\n        // On error, don't show modal - just set loading to false\n        setNeedsSelection(false);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const selectMarket = async marketId => {\n      try {\n        const market = markets.find(m => m.market_id === marketId);\n        if (!market) {\n          throw new Error('Invalid market');\n        }\n\n        // Save locally\n        await AsyncStorage.default.setItem('selected_market_id', marketId);\n        setCurrentMarket(market);\n        setNeedsSelection(false);\n\n        // Try to save to backend if authenticated\n        const token = await AsyncStorage.default.getItem('token');\n        if (token) {\n          try {\n            await _servicesApi.api.post('/me/market', {\n              market_id: marketId\n            });\n          } catch (e) {\n            // Silently fail - local storage is the fallback\n            console.log('Could not save market to server');\n          }\n        }\n      } catch (error) {\n        console.error('Failed to select market:', error);\n        throw error;\n      }\n    };\n    const refreshMarket = async () => {\n      setLoading(true);\n      await loadMarketData();\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(MarketContext.Provider, {\n      value: {\n        markets,\n        currentMarket,\n        needsSelection,\n        detectedCountry,\n        suggestedMarketId,\n        loading,\n        selectMarket,\n        refreshMarket\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 5\n    }, this);\n  }\n  _s(MarketProvider, \"kY7Z8lE/ib3PFlb/CD43WM0RYvg=\");\n  _c = MarketProvider;\n  function useMarket() {\n    _s2();\n    const context = (0, _react.useContext)(MarketContext);\n    if (context === undefined) {\n      throw new Error('useMarket must be used within a MarketProvider');\n    }\n    return context;\n  }\n  _s2(useMarket, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"MarketProvider\");\n});","lineCount":212,"map":[[15,2,29,0,"exports"],[15,9,29,0],[15,10,29,0,"MarketProvider"],[15,24,29,0],[15,27,29,0,"MarketProvider"],[15,41,29,0],[16,2,203,0,"exports"],[16,9,203,0],[16,10,203,0,"useMarket"],[16,19,203,0],[16,22,203,0,"useMarket"],[16,31,203,0],[17,2,1,0],[17,6,1,0,"_react"],[17,12,1,0],[17,15,1,0,"require"],[17,22,1,0],[17,23,1,0,"_dependencyMap"],[17,37,1,0],[18,2,2,0],[18,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[18,42,2,0],[18,45,2,0,"require"],[18,52,2,0],[18,53,2,0,"_dependencyMap"],[18,67,2,0],[19,2,2,0],[19,6,2,0,"AsyncStorage"],[19,18,2,0],[19,21,2,0,"_interopDefault"],[19,36,2,0],[19,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,73,2,0],[20,2,3,0],[20,6,3,0,"_servicesApi"],[20,18,3,0],[20,21,3,0,"require"],[20,28,3,0],[20,29,3,0,"_dependencyMap"],[20,43,3,0],[21,2,3,38],[21,6,3,38,"_reactJsxDevRuntime"],[21,25,3,38],[21,28,3,38,"require"],[21,35,3,38],[21,36,3,38,"_dependencyMap"],[21,50,3,38],[22,2,27,0],[22,8,27,6,"MarketContext"],[22,21,27,19],[22,37,27,22],[22,41,27,22,"createContext"],[22,47,27,35],[22,48,27,35,"createContext"],[22,61,27,35],[22,63,27,67,"undefined"],[22,72,27,76],[22,73,27,77],[23,2,29,7],[23,11,29,16,"MarketProvider"],[23,25,29,30,"MarketProvider"],[23,26,29,31],[24,4,29,33,"children"],[25,2,29,67],[25,3,29,68],[25,5,29,70],[26,4,29,70,"_s"],[26,6,29,70],[27,4,30,2],[27,10,30,8],[27,11,30,9,"markets"],[27,18,30,16],[27,20,30,18,"setMarkets"],[27,30,30,28],[27,31,30,29],[27,34,30,32],[27,38,30,32,"useState"],[27,44,30,40],[27,45,30,40,"useState"],[27,53,30,40],[27,55,30,51],[27,57,30,53],[27,58,30,54],[28,4,31,2],[28,10,31,8],[28,11,31,9,"currentMarket"],[28,24,31,22],[28,26,31,24,"setCurrentMarket"],[28,42,31,40],[28,43,31,41],[28,46,31,44],[28,50,31,44,"useState"],[28,56,31,52],[28,57,31,52,"useState"],[28,65,31,52],[28,67,31,68],[28,71,31,72],[28,72,31,73],[29,4,32,2],[29,10,32,8],[29,11,32,9,"needsSelection"],[29,25,32,23],[29,27,32,25,"setNeedsSelection"],[29,44,32,42],[29,45,32,43],[29,48,32,46],[29,52,32,46,"useState"],[29,58,32,54],[29,59,32,54,"useState"],[29,67,32,54],[29,69,32,55],[29,74,32,60],[29,75,32,61],[30,4,33,2],[30,10,33,8],[30,11,33,9,"detectedCountry"],[30,26,33,24],[30,28,33,26,"setDetectedCountry"],[30,46,33,44],[30,47,33,45],[30,50,33,48],[30,54,33,48,"useState"],[30,60,33,56],[30,61,33,56,"useState"],[30,69,33,56],[30,71,33,72],[30,75,33,76],[30,76,33,77],[31,4,34,2],[31,10,34,8],[31,11,34,9,"suggestedMarketId"],[31,28,34,26],[31,30,34,28,"setSuggestedMarketId"],[31,50,34,48],[31,51,34,49],[31,54,34,52],[31,58,34,52,"useState"],[31,64,34,60],[31,65,34,60,"useState"],[31,73,34,60],[31,75,34,76],[31,79,34,80],[31,80,34,81],[32,4,35,2],[32,10,35,8],[32,11,35,9,"loading"],[32,18,35,16],[32,20,35,18,"setLoading"],[32,30,35,28],[32,31,35,29],[32,34,35,32],[32,38,35,32,"useState"],[32,44,35,40],[32,45,35,40,"useState"],[32,53,35,40],[32,55,35,41],[32,59,35,45],[32,60,35,46],[33,4,37,2],[33,8,37,2,"useEffect"],[33,14,37,11],[33,15,37,11,"useEffect"],[33,24,37,11],[33,26,37,12],[33,32,37,18],[34,6,38,4,"loadMarketData"],[34,20,38,18],[34,21,38,19],[34,22,38,20],[35,4,39,2],[35,5,39,3],[35,7,39,5],[35,9,39,7],[35,10,39,8],[36,4,41,2],[36,10,41,8,"loadMarketData"],[36,24,41,22],[36,27,41,25],[36,33,41,25,"loadMarketData"],[36,34,41,25],[36,39,41,37],[37,6,42,4],[37,10,42,8],[38,8,43,6],[39,8,44,6],[39,14,44,12,"marketsResponse"],[39,29,44,27],[39,32,44,30],[39,38,44,36,"api"],[39,50,44,39],[39,51,44,39,"api"],[39,54,44,39],[39,55,44,40,"get"],[39,58,44,43],[39,59,44,44],[39,69,44,54],[39,70,44,55],[40,8,45,6,"setMarkets"],[40,18,45,16],[40,19,45,17,"marketsResponse"],[40,34,45,32],[40,35,45,33,"data"],[40,39,45,37],[40,40,45,38,"markets"],[40,47,45,45],[40,48,45,46],[42,8,47,6],[43,8,48,6],[43,12,48,10,"geoData"],[43,19,48,98],[43,22,48,101],[43,23,48,102],[43,24,48,103],[44,8,49,6],[44,12,49,10],[45,10,50,8],[45,16,50,14,"geoResponse"],[45,27,50,25],[45,30,50,28],[45,36,50,34,"api"],[45,48,50,37],[45,49,50,37,"api"],[45,52,50,37],[45,53,50,38,"get"],[45,56,50,41],[45,57,50,42],[45,70,50,55],[45,71,50,56],[46,10,51,8,"geoData"],[46,17,51,15],[46,20,51,18,"geoResponse"],[46,31,51,29],[46,32,51,30,"data"],[46,36,51,34],[47,10,52,8,"setDetectedCountry"],[47,28,52,26],[47,29,52,27,"geoData"],[47,36,52,34],[47,37,52,35,"detected_country"],[47,53,52,51],[47,57,52,55],[47,61,52,59],[47,62,52,60],[48,10,53,8,"setSuggestedMarketId"],[48,30,53,28],[48,31,53,29,"geoData"],[48,38,53,36],[48,39,53,37,"suggested_market_id"],[48,58,53,56],[48,62,53,60],[48,66,53,64],[48,67,53,65],[49,8,54,6],[49,9,54,7],[49,10,54,8],[49,17,54,15,"e"],[49,18,54,16],[49,20,54,18],[50,10,55,8,"console"],[50,17,55,15],[50,18,55,16,"log"],[50,21,55,19],[50,22,55,20],[50,51,55,49],[50,52,55,50],[51,8,56,6],[53,8,58,6],[54,8,59,6],[54,14,59,12,"token"],[54,19,59,17],[54,22,59,20],[54,28,59,26,"AsyncStorage"],[54,40,59,38],[54,41,59,38,"default"],[54,48,59,38],[54,49,59,39,"getItem"],[54,56,59,46],[54,57,59,47],[54,64,59,54],[54,65,59,55],[55,8,60,6],[55,12,60,10,"token"],[55,17,60,15],[55,19,60,17],[56,10,61,8],[56,14,61,12],[57,12,62,10],[57,18,62,16,"marketResponse"],[57,32,62,30],[57,35,62,33],[57,41,62,39,"api"],[57,53,62,42],[57,54,62,42,"api"],[57,57,62,42],[57,58,62,43,"get"],[57,61,62,46],[57,62,62,47],[57,74,62,59],[57,75,62,60],[58,12,63,10],[58,16,63,14,"marketResponse"],[58,30,63,28],[58,31,63,29,"data"],[58,35,63,33],[58,36,63,34,"market"],[58,42,63,40],[58,44,63,42],[59,14,64,12,"setCurrentMarket"],[59,30,64,28],[59,31,64,29,"marketResponse"],[59,45,64,43],[59,46,64,44,"data"],[59,50,64,48],[59,51,64,49,"market"],[59,57,64,55],[59,58,64,56],[60,14,65,12,"setNeedsSelection"],[60,31,65,29],[60,32,65,30],[60,37,65,35],[60,38,65,36],[61,12,66,10],[61,13,66,11],[61,19,66,17],[62,14,67,12],[63,14,68,12],[64,14,69,12],[64,20,69,18,"suggestedId"],[64,31,69,29],[64,34,69,32,"geoData"],[64,41,69,39],[64,42,69,40,"suggested_market_id"],[64,61,69,59],[64,65,69,63,"geoData"],[64,72,69,70],[64,73,69,71,"market_id"],[64,82,69,80],[65,14,70,12],[65,18,70,16,"suggestedId"],[65,29,70,27],[65,31,70,29],[66,16,71,14],[66,22,71,20,"suggestedMarket"],[66,37,71,35],[66,40,71,38,"marketsResponse"],[66,55,71,53],[66,56,71,54,"data"],[66,60,71,58],[66,61,71,59,"markets"],[66,68,71,66],[66,69,71,67,"find"],[66,73,71,71],[66,74,72,17,"m"],[66,75,72,26],[66,79,72,31,"m"],[66,80,72,32],[66,81,72,33,"market_id"],[66,90,72,42],[66,95,72,47,"suggestedId"],[66,106,73,14],[66,107,73,15],[67,16,74,14],[67,20,74,18,"suggestedMarket"],[67,35,74,33],[67,37,74,35],[68,18,75,16,"setCurrentMarket"],[68,34,75,32],[68,35,75,33,"suggestedMarket"],[68,50,75,48],[68,51,75,49],[69,18,76,16],[70,18,77,16],[70,22,77,20],[71,20,78,18],[71,26,78,24,"api"],[71,38,78,27],[71,39,78,27,"api"],[71,42,78,27],[71,43,78,28,"put"],[71,46,78,31],[71,47,78,32],[71,59,78,44],[71,61,78,46],[72,22,78,48,"market_id"],[72,31,78,57],[72,33,78,59,"suggestedMarket"],[72,48,78,74],[72,49,78,75,"market_id"],[73,20,78,85],[73,21,78,86],[73,22,78,87],[74,18,79,16],[74,19,79,17],[74,20,79,18],[74,27,79,25,"e"],[74,28,79,26],[74,30,79,28],[75,20,80,18,"console"],[75,27,80,25],[75,28,80,26,"error"],[75,33,80,31],[75,34,80,32],[75,63,80,61],[75,65,80,63,"e"],[75,66,80,64],[75,67,80,65],[76,18,81,16],[77,18,82,16,"setNeedsSelection"],[77,35,82,33],[77,36,82,34],[77,41,82,39],[77,42,82,40],[78,16,83,14],[78,17,83,15],[78,23,83,21],[79,18,84,16],[80,18,85,16],[80,22,85,20,"marketsResponse"],[80,37,85,35],[80,38,85,36,"data"],[80,42,85,40],[80,43,85,41,"markets"],[80,50,85,48],[80,51,85,49,"length"],[80,57,85,55],[80,60,85,58],[80,61,85,59],[80,63,85,61],[81,20,86,18],[81,26,86,24,"fallbackMarket"],[81,40,86,38],[81,43,86,41,"marketsResponse"],[81,58,86,56],[81,59,86,57,"data"],[81,63,86,61],[81,64,86,62,"markets"],[81,71,86,69],[81,72,86,70],[81,73,86,71],[81,74,86,72],[82,20,87,18,"setCurrentMarket"],[82,36,87,34],[82,37,87,35,"fallbackMarket"],[82,51,87,49],[82,52,87,50],[83,20,88,18],[83,24,88,22],[84,22,89,20],[84,28,89,26,"api"],[84,40,89,29],[84,41,89,29,"api"],[84,44,89,29],[84,45,89,30,"put"],[84,48,89,33],[84,49,89,34],[84,61,89,46],[84,63,89,48],[85,24,89,50,"market_id"],[85,33,89,59],[85,35,89,61,"fallbackMarket"],[85,49,89,75],[85,50,89,76,"market_id"],[86,22,89,86],[86,23,89,87],[86,24,89,88],[87,20,90,18],[87,21,90,19],[87,22,90,20],[87,29,90,27,"e"],[87,30,90,28],[87,32,90,30],[88,22,91,20,"console"],[88,29,91,27],[88,30,91,28,"error"],[88,35,91,33],[88,36,91,34],[88,74,91,72],[88,76,91,74,"e"],[88,77,91,75],[88,78,91,76],[89,20,92,18],[90,20,93,18,"setNeedsSelection"],[90,37,93,35],[90,38,93,36],[90,43,93,41],[90,44,93,42],[91,18,94,16],[91,19,94,17],[91,25,94,23],[92,20,95,18,"setNeedsSelection"],[92,37,95,35],[92,38,95,36],[92,42,95,40],[92,43,95,41],[93,18,96,16],[94,16,97,14],[95,14,98,12],[95,15,98,13],[95,21,98,19],[96,16,99,14],[97,16,100,14],[97,20,100,18,"marketsResponse"],[97,35,100,33],[97,36,100,34,"data"],[97,40,100,38],[97,41,100,39,"markets"],[97,48,100,46],[97,49,100,47,"length"],[97,55,100,53],[97,58,100,56],[97,59,100,57],[97,61,100,59],[98,18,101,16],[98,24,101,22,"fallbackMarket"],[98,38,101,36],[98,41,101,39,"marketsResponse"],[98,56,101,54],[98,57,101,55,"data"],[98,61,101,59],[98,62,101,60,"markets"],[98,69,101,67],[98,70,101,68],[98,71,101,69],[98,72,101,70],[99,18,102,16,"setCurrentMarket"],[99,34,102,32],[99,35,102,33,"fallbackMarket"],[99,49,102,47],[99,50,102,48],[100,18,103,16],[100,22,103,20],[101,20,104,18],[101,26,104,24,"api"],[101,38,104,27],[101,39,104,27,"api"],[101,42,104,27],[101,43,104,28,"put"],[101,46,104,31],[101,47,104,32],[101,59,104,44],[101,61,104,46],[102,22,104,48,"market_id"],[102,31,104,57],[102,33,104,59,"fallbackMarket"],[102,47,104,73],[102,48,104,74,"market_id"],[103,20,104,84],[103,21,104,85],[103,22,104,86],[104,18,105,16],[104,19,105,17],[104,20,105,18],[104,27,105,25,"e"],[104,28,105,26],[104,30,105,28],[105,20,106,18,"console"],[105,27,106,25],[105,28,106,26,"error"],[105,33,106,31],[105,34,106,32],[105,72,106,70],[105,74,106,72,"e"],[105,75,106,73],[105,76,106,74],[106,18,107,16],[107,18,108,16,"setNeedsSelection"],[107,35,108,33],[107,36,108,34],[107,41,108,39],[107,42,108,40],[108,16,109,14],[108,17,109,15],[108,23,109,21],[109,18,110,16,"setNeedsSelection"],[109,35,110,33],[109,36,110,34],[109,40,110,38],[109,41,110,39],[110,16,111,14],[111,14,112,12],[112,12,113,10],[113,10,114,8],[113,11,114,9],[113,12,114,10],[113,19,114,17,"e"],[113,20,114,18],[113,22,114,20],[114,12,115,10],[115,12,116,10],[116,12,117,10],[116,16,117,14,"marketsResponse"],[116,31,117,29],[116,32,117,30,"data"],[116,36,117,34],[116,37,117,35,"markets"],[116,44,117,42],[116,45,117,43,"length"],[116,51,117,49],[116,54,117,52],[116,55,117,53],[116,57,117,55],[117,14,118,12],[117,20,118,18,"fallbackMarket"],[117,34,118,32],[117,37,118,35,"marketsResponse"],[117,52,118,50],[117,53,118,51,"data"],[117,57,118,55],[117,58,118,56,"markets"],[117,65,118,63],[117,66,118,64],[117,67,118,65],[117,68,118,66],[118,14,119,12,"setCurrentMarket"],[118,30,119,28],[118,31,119,29,"fallbackMarket"],[118,45,119,43],[118,46,119,44],[119,14,120,12,"setNeedsSelection"],[119,31,120,29],[119,32,120,30],[119,37,120,35],[119,38,120,36],[120,12,121,10],[120,13,121,11],[120,19,121,17],[121,14,122,12,"setNeedsSelection"],[121,31,122,29],[121,32,122,30],[121,36,122,34],[121,37,122,35],[122,12,123,10],[123,10,124,8],[124,8,125,6],[124,9,125,7],[124,15,125,13],[125,10,126,8],[126,10,127,8],[126,16,127,14,"storedMarketId"],[126,30,127,28],[126,33,127,31],[126,39,127,37,"AsyncStorage"],[126,51,127,49],[126,52,127,49,"default"],[126,59,127,49],[126,60,127,50,"getItem"],[126,67,127,57],[126,68,127,58],[126,88,127,78],[126,89,127,79],[127,10,128,8],[127,14,128,12,"storedMarketId"],[127,28,128,26],[127,32,128,30,"marketsResponse"],[127,47,128,45],[127,48,128,46,"data"],[127,52,128,50],[127,53,128,51,"markets"],[127,60,128,58],[127,62,128,60],[128,12,129,10],[128,18,129,16,"found"],[128,23,129,21],[128,26,129,24,"marketsResponse"],[128,41,129,39],[128,42,129,40,"data"],[128,46,129,44],[128,47,129,45,"markets"],[128,54,129,52],[128,55,129,53,"find"],[128,59,129,57],[128,60,130,13,"m"],[128,61,130,22],[128,65,130,27,"m"],[128,66,130,28],[128,67,130,29,"market_id"],[128,76,130,38],[128,81,130,43,"storedMarketId"],[128,95,131,10],[128,96,131,11],[129,12,132,10],[129,16,132,14,"found"],[129,21,132,19],[129,23,132,21],[130,14,133,12,"setCurrentMarket"],[130,30,133,28],[130,31,133,29,"found"],[130,36,133,34],[130,37,133,35],[131,14,134,12,"setNeedsSelection"],[131,31,134,29],[131,32,134,30],[131,37,134,35],[131,38,134,36],[132,12,135,10],[132,13,135,11],[132,19,135,17],[133,14,136,12,"setNeedsSelection"],[133,31,136,29],[133,32,136,30],[133,36,136,34],[133,37,136,35],[134,12,137,10],[135,10,138,8],[135,11,138,9],[135,17,138,15],[136,12,139,10],[137,12,140,10,"setNeedsSelection"],[137,29,140,27],[137,30,140,28],[137,34,140,32],[137,35,140,33],[138,10,141,8],[139,8,142,6],[140,6,143,4],[140,7,143,5],[140,8,143,6],[140,15,143,13,"error"],[140,20,143,18],[140,22,143,20],[141,8,144,6,"console"],[141,15,144,13],[141,16,144,14,"error"],[141,21,144,19],[141,22,144,20],[141,51,144,49],[141,53,144,51,"error"],[141,58,144,56],[141,59,144,57],[142,8,145,6],[143,8,146,6,"setNeedsSelection"],[143,25,146,23],[143,26,146,24],[143,31,146,29],[143,32,146,30],[144,6,147,4],[144,7,147,5],[144,16,147,14],[145,8,148,6,"setLoading"],[145,18,148,16],[145,19,148,17],[145,24,148,22],[145,25,148,23],[146,6,149,4],[147,4,150,2],[147,5,150,3],[148,4,152,2],[148,10,152,8,"selectMarket"],[148,22,152,20],[148,25,152,23],[148,31,152,30,"marketId"],[148,39,152,46],[148,43,152,51],[149,6,153,4],[149,10,153,8],[150,8,154,6],[150,14,154,12,"market"],[150,20,154,18],[150,23,154,21,"markets"],[150,30,154,28],[150,31,154,29,"find"],[150,35,154,33],[150,36,154,35,"m"],[150,37,154,36],[150,41,154,41,"m"],[150,42,154,42],[150,43,154,43,"market_id"],[150,52,154,52],[150,57,154,57,"marketId"],[150,65,154,65],[150,66,154,66],[151,8,155,6],[151,12,155,10],[151,13,155,11,"market"],[151,19,155,17],[151,21,155,19],[152,10,156,8],[152,16,156,14],[152,20,156,18,"Error"],[152,25,156,23],[152,26,156,24],[152,42,156,40],[152,43,156,41],[153,8,157,6],[155,8,159,6],[156,8,160,6],[156,14,160,12,"AsyncStorage"],[156,26,160,24],[156,27,160,24,"default"],[156,34,160,24],[156,35,160,25,"setItem"],[156,42,160,32],[156,43,160,33],[156,63,160,53],[156,65,160,55,"marketId"],[156,73,160,63],[156,74,160,64],[157,8,161,6,"setCurrentMarket"],[157,24,161,22],[157,25,161,23,"market"],[157,31,161,29],[157,32,161,30],[158,8,162,6,"setNeedsSelection"],[158,25,162,23],[158,26,162,24],[158,31,162,29],[158,32,162,30],[160,8,164,6],[161,8,165,6],[161,14,165,12,"token"],[161,19,165,17],[161,22,165,20],[161,28,165,26,"AsyncStorage"],[161,40,165,38],[161,41,165,38,"default"],[161,48,165,38],[161,49,165,39,"getItem"],[161,56,165,46],[161,57,165,47],[161,64,165,54],[161,65,165,55],[162,8,166,6],[162,12,166,10,"token"],[162,17,166,15],[162,19,166,17],[163,10,167,8],[163,14,167,12],[164,12,168,10],[164,18,168,16,"api"],[164,30,168,19],[164,31,168,19,"api"],[164,34,168,19],[164,35,168,20,"post"],[164,39,168,24],[164,40,168,25],[164,52,168,37],[164,54,168,39],[165,14,168,41,"market_id"],[165,23,168,50],[165,25,168,52,"marketId"],[166,12,168,61],[166,13,168,62],[166,14,168,63],[167,10,169,8],[167,11,169,9],[167,12,169,10],[167,19,169,17,"e"],[167,20,169,18],[167,22,169,20],[168,12,170,10],[169,12,171,10,"console"],[169,19,171,17],[169,20,171,18,"log"],[169,23,171,21],[169,24,171,22],[169,57,171,55],[169,58,171,56],[170,10,172,8],[171,8,173,6],[172,6,174,4],[172,7,174,5],[172,8,174,6],[172,15,174,13,"error"],[172,20,174,18],[172,22,174,20],[173,8,175,6,"console"],[173,15,175,13],[173,16,175,14,"error"],[173,21,175,19],[173,22,175,20],[173,48,175,46],[173,50,175,48,"error"],[173,55,175,53],[173,56,175,54],[174,8,176,6],[174,14,176,12,"error"],[174,19,176,17],[175,6,177,4],[176,4,178,2],[176,5,178,3],[177,4,180,2],[177,10,180,8,"refreshMarket"],[177,23,180,21],[177,26,180,24],[177,32,180,24,"refreshMarket"],[177,33,180,24],[177,38,180,36],[178,6,181,4,"setLoading"],[178,16,181,14],[178,17,181,15],[178,21,181,19],[178,22,181,20],[179,6,182,4],[179,12,182,10,"loadMarketData"],[179,26,182,24],[179,27,182,25],[179,28,182,26],[180,4,183,2],[180,5,183,3],[181,4,185,2],[181,24,186,4],[181,28,186,4,"_reactJsxDevRuntime"],[181,47,186,4],[181,48,186,4,"jsxDEV"],[181,54,186,4],[181,56,186,5,"MarketContext"],[181,69,186,18],[181,70,186,19,"Provider"],[181,78,186,27],[182,6,187,6,"value"],[182,11,187,11],[182,13,187,13],[183,8,188,8,"markets"],[183,15,188,15],[184,8,189,8,"currentMarket"],[184,21,189,21],[185,8,190,8,"needsSelection"],[185,22,190,22],[186,8,191,8,"detectedCountry"],[186,23,191,23],[187,8,192,8,"suggestedMarketId"],[187,25,192,25],[188,8,193,8,"loading"],[188,15,193,15],[189,8,194,8,"selectMarket"],[189,20,194,20],[190,8,195,8,"refreshMarket"],[191,6,196,6],[191,7,196,8],[192,6,196,8,"children"],[192,14,196,8],[192,16,198,7,"children"],[193,4,198,15],[194,6,198,15,"fileName"],[194,14,198,15],[194,16,198,15,"_jsxFileName"],[194,28,198,15],[195,6,198,15,"lineNumber"],[195,16,198,15],[196,6,198,15,"columnNumber"],[196,18,198,15],[197,4,198,15],[197,11,199,28],[197,12,199,29],[198,2,201,0],[199,2,201,1,"_s"],[199,4,201,1],[199,5,29,16,"MarketProvider"],[199,19,29,30],[200,2,29,30,"_c"],[200,4,29,30],[200,7,29,16,"MarketProvider"],[200,21,29,30],[201,2,203,7],[201,11,203,16,"useMarket"],[201,20,203,25,"useMarket"],[201,21,203,25],[201,23,203,28],[202,4,203,28,"_s2"],[202,7,203,28],[203,4,204,2],[203,10,204,8,"context"],[203,17,204,15],[203,20,204,18],[203,24,204,18,"useContext"],[203,30,204,28],[203,31,204,28,"useContext"],[203,41,204,28],[203,43,204,29,"MarketContext"],[203,56,204,42],[203,57,204,43],[204,4,205,2],[204,8,205,6,"context"],[204,15,205,13],[204,20,205,18,"undefined"],[204,29,205,27],[204,31,205,29],[205,6,206,4],[205,12,206,10],[205,16,206,14,"Error"],[205,21,206,19],[205,22,206,20],[205,70,206,68],[205,71,206,69],[206,4,207,2],[207,4,208,2],[207,11,208,9,"context"],[207,18,208,16],[208,2,209,0],[209,2,209,1,"_s2"],[209,5,209,1],[209,6,203,16,"useMarket"],[209,15,203,25],[210,2,203,25],[210,6,203,25,"_c"],[210,8,203,25],[211,2,203,25,"$RefreshReg$"],[211,14,203,25],[211,15,203,25,"_c"],[211,17,203,25],[212,0,203,25],[212,3]],"functionMap":{"names":["<global>","MarketProvider","useEffect$argument_0","loadMarketData","marketsResponse.data.markets.find$argument_0","selectMarket","markets.find$argument_0","refreshMarket","useMarket"],"mappings":"AAA;OC4B;YCQ;GDE;yBEE;gBC+B,0CD;YC0D,6CD;GFoB;uBIE;kCCE,+BD;GJwB;wBME;GNG;CDkB;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}