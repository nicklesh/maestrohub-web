{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":38,"index":198}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/MarketContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.MarketProvider = MarketProvider;\n  exports.useMarket = useMarket;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[4], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  var MarketContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function MarketProvider(_ref) {\n    _s();\n    var children = _ref.children;\n    var _useState = (0, _react.useState)([]),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      markets = _useState2[0],\n      setMarkets = _useState2[1];\n    var _useState3 = (0, _react.useState)(null),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      currentMarket = _useState4[0],\n      setCurrentMarket = _useState4[1];\n    var _useState5 = (0, _react.useState)(false),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      needsSelection = _useState6[0],\n      setNeedsSelection = _useState6[1];\n    var _useState7 = (0, _react.useState)(null),\n      _useState8 = (0, _slicedToArray.default)(_useState7, 2),\n      detectedCountry = _useState8[0],\n      setDetectedCountry = _useState8[1];\n    var _useState9 = (0, _react.useState)(null),\n      _useState0 = (0, _slicedToArray.default)(_useState9, 2),\n      suggestedMarketId = _useState0[0],\n      setSuggestedMarketId = _useState0[1];\n    var _useState1 = (0, _react.useState)(true),\n      _useState10 = (0, _slicedToArray.default)(_useState1, 2),\n      loading = _useState10[0],\n      setLoading = _useState10[1];\n    (0, _react.useEffect)(() => {\n      loadMarketData();\n    }, []);\n    var loadMarketData = /*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          // Load available markets\n          var marketsResponse = yield _servicesApi.api.get('/markets');\n          setMarkets(marketsResponse.data.markets);\n\n          // Try to detect country from IP\n          var geoData = {};\n          try {\n            var geoResponse = yield _servicesApi.api.get('/geo/detect');\n            geoData = geoResponse.data;\n            setDetectedCountry(geoData.detected_country || null);\n            setSuggestedMarketId(geoData.suggested_market_id || null);\n          } catch (e) {\n            console.log('Geo detection not available');\n          }\n\n          // Check if user has a market set (if authenticated)\n          var token = yield AsyncStorage.default.getItem('token');\n          if (token) {\n            try {\n              var marketResponse = yield _servicesApi.api.get('/me/market');\n              if (marketResponse.data.market) {\n                setCurrentMarket(marketResponse.data.market);\n                setNeedsSelection(false);\n              } else {\n                // For authenticated users without market, use suggested market automatically\n                // Market selection should only be prompted during registration, not login\n                var suggestedId = geoData.suggested_market_id || geoData.market_id;\n                if (suggestedId) {\n                  var suggestedMarket = marketsResponse.data.markets.find(m => m.market_id === suggestedId);\n                  if (suggestedMarket) {\n                    setCurrentMarket(suggestedMarket);\n                    // Auto-save this market for the user\n                    try {\n                      yield _servicesApi.api.put('/me/market', {\n                        market_id: suggestedMarket.market_id\n                      });\n                    } catch (e) {\n                      console.error('Failed to auto-save market:', e);\n                    }\n                    setNeedsSelection(false);\n                  } else {\n                    // Fallback to first available market instead of showing modal\n                    if (marketsResponse.data.markets.length > 0) {\n                      var fallbackMarket = marketsResponse.data.markets[0];\n                      setCurrentMarket(fallbackMarket);\n                      try {\n                        yield _servicesApi.api.put('/me/market', {\n                          market_id: fallbackMarket.market_id\n                        });\n                      } catch (e) {\n                        console.error('Failed to auto-save fallback market:', e);\n                      }\n                      setNeedsSelection(false);\n                    } else {\n                      setNeedsSelection(true);\n                    }\n                  }\n                } else {\n                  // No geo data available - use first market as fallback for authenticated users\n                  if (marketsResponse.data.markets.length > 0) {\n                    var _fallbackMarket = marketsResponse.data.markets[0];\n                    setCurrentMarket(_fallbackMarket);\n                    try {\n                      yield _servicesApi.api.put('/me/market', {\n                        market_id: _fallbackMarket.market_id\n                      });\n                    } catch (e) {\n                      console.error('Failed to auto-save fallback market:', e);\n                    }\n                    setNeedsSelection(false);\n                  } else {\n                    setNeedsSelection(true);\n                  }\n                }\n              }\n            } catch (e) {\n              // User not authenticated or no market set - don't show modal for logged in users\n              // Just use the first available market\n              if (marketsResponse.data.markets.length > 0) {\n                var _fallbackMarket2 = marketsResponse.data.markets[0];\n                setCurrentMarket(_fallbackMarket2);\n                setNeedsSelection(false);\n              } else {\n                setNeedsSelection(true);\n              }\n            }\n          } else {\n            // Check local storage for market preference (for non-authenticated users)\n            var storedMarketId = yield AsyncStorage.default.getItem('selected_market_id');\n            if (storedMarketId && marketsResponse.data.markets) {\n              var found = marketsResponse.data.markets.find(m => m.market_id === storedMarketId);\n              if (found) {\n                setCurrentMarket(found);\n                setNeedsSelection(false);\n              } else {\n                setNeedsSelection(true);\n              }\n            } else {\n              // For non-authenticated users without stored preference, show selection\n              setNeedsSelection(true);\n            }\n          }\n        } catch (error) {\n          console.error('Failed to load market data:', error);\n          // On error, don't show modal - just set loading to false\n          setNeedsSelection(false);\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function loadMarketData() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    var selectMarket = /*#__PURE__*/function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* (marketId) {\n        try {\n          var market = markets.find(m => m.market_id === marketId);\n          if (!market) {\n            throw new Error('Invalid market');\n          }\n\n          // Save locally\n          yield AsyncStorage.default.setItem('selected_market_id', marketId);\n          setCurrentMarket(market);\n          setNeedsSelection(false);\n\n          // Try to save to backend if authenticated\n          var token = yield AsyncStorage.default.getItem('token');\n          if (token) {\n            try {\n              yield _servicesApi.api.post('/me/market', {\n                market_id: marketId\n              });\n            } catch (e) {\n              // Silently fail - local storage is the fallback\n              console.log('Could not save market to server');\n            }\n          }\n        } catch (error) {\n          console.error('Failed to select market:', error);\n          throw error;\n        }\n      });\n      return function selectMarket(_x) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    var refreshMarket = /*#__PURE__*/function () {\n      var _ref4 = (0, _asyncToGenerator.default)(function* () {\n        setLoading(true);\n        yield loadMarketData();\n      });\n      return function refreshMarket() {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(MarketContext.Provider, {\n      value: {\n        markets,\n        currentMarket,\n        needsSelection,\n        detectedCountry,\n        suggestedMarketId,\n        loading,\n        selectMarket,\n        refreshMarket\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 5\n    }, this);\n  }\n  _s(MarketProvider, \"kY7Z8lE/ib3PFlb/CD43WM0RYvg=\");\n  _c = MarketProvider;\n  function useMarket() {\n    _s2();\n    var context = (0, _react.useContext)(MarketContext);\n    if (context === undefined) {\n      throw new Error('useMarket must be used within a MarketProvider');\n    }\n    return context;\n  }\n  _s2(useMarket, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"MarketProvider\");\n});","lineCount":248,"map":[[15,2,29,0,"exports"],[15,9,29,0],[15,10,29,0,"MarketProvider"],[15,24,29,0],[15,27,29,0,"MarketProvider"],[15,41,29,0],[16,2,203,0,"exports"],[16,9,203,0],[16,10,203,0,"useMarket"],[16,19,203,0],[16,22,203,0,"useMarket"],[16,31,203,0],[17,2,209,1],[17,6,209,1,"_babelRuntimeHelpersAsyncToGenerator"],[17,42,209,1],[17,45,209,1,"require"],[17,52,209,1],[17,53,209,1,"_dependencyMap"],[17,67,209,1],[18,2,209,1],[18,6,209,1,"_asyncToGenerator"],[18,23,209,1],[18,26,209,1,"_interopDefault"],[18,41,209,1],[18,42,209,1,"_babelRuntimeHelpersAsyncToGenerator"],[18,78,209,1],[19,2,209,1],[19,6,209,1,"_babelRuntimeHelpersSlicedToArray"],[19,39,209,1],[19,42,209,1,"require"],[19,49,209,1],[19,50,209,1,"_dependencyMap"],[19,64,209,1],[20,2,209,1],[20,6,209,1,"_slicedToArray"],[20,20,209,1],[20,23,209,1,"_interopDefault"],[20,38,209,1],[20,39,209,1,"_babelRuntimeHelpersSlicedToArray"],[20,72,209,1],[21,2,1,0],[21,6,1,0,"_react"],[21,12,1,0],[21,15,1,0,"require"],[21,22,1,0],[21,23,1,0,"_dependencyMap"],[21,37,1,0],[22,2,2,0],[22,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,42,2,0],[22,45,2,0,"require"],[22,52,2,0],[22,53,2,0,"_dependencyMap"],[22,67,2,0],[23,2,2,0],[23,6,2,0,"AsyncStorage"],[23,18,2,0],[23,21,2,0,"_interopDefault"],[23,36,2,0],[23,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[23,73,2,0],[24,2,3,0],[24,6,3,0,"_servicesApi"],[24,18,3,0],[24,21,3,0,"require"],[24,28,3,0],[24,29,3,0,"_dependencyMap"],[24,43,3,0],[25,2,3,38],[25,6,3,38,"_reactJsxDevRuntime"],[25,25,3,38],[25,28,3,38,"require"],[25,35,3,38],[25,36,3,38,"_dependencyMap"],[25,50,3,38],[26,2,27,0],[26,6,27,6,"MarketContext"],[26,19,27,19],[26,35,27,22],[26,39,27,22,"createContext"],[26,45,27,35],[26,46,27,35,"createContext"],[26,59,27,35],[26,61,27,67,"undefined"],[26,70,27,76],[26,71,27,77],[27,2,29,7],[27,11,29,16,"MarketProvider"],[27,25,29,30,"MarketProvider"],[27,26,29,30,"_ref"],[27,30,29,30],[27,32,29,70],[28,4,29,70,"_s"],[28,6,29,70],[29,4,29,70],[29,8,29,33,"children"],[29,16,29,41],[29,19,29,41,"_ref"],[29,23,29,41],[29,24,29,33,"children"],[29,32,29,41],[30,4,30,2],[30,8,30,2,"_useState"],[30,17,30,2],[30,20,30,32],[30,24,30,32,"useState"],[30,30,30,40],[30,31,30,40,"useState"],[30,39,30,40],[30,41,30,51],[30,43,30,53],[30,44,30,54],[31,6,30,54,"_useState2"],[31,16,30,54],[31,23,30,54,"_slicedToArray"],[31,37,30,54],[31,38,30,54,"default"],[31,45,30,54],[31,47,30,54,"_useState"],[31,56,30,54],[32,6,30,9,"markets"],[32,13,30,16],[32,16,30,16,"_useState2"],[32,26,30,16],[33,6,30,18,"setMarkets"],[33,16,30,28],[33,19,30,28,"_useState2"],[33,29,30,28],[34,4,31,2],[34,8,31,2,"_useState3"],[34,18,31,2],[34,21,31,44],[34,25,31,44,"useState"],[34,31,31,52],[34,32,31,52,"useState"],[34,40,31,52],[34,42,31,68],[34,46,31,72],[34,47,31,73],[35,6,31,73,"_useState4"],[35,16,31,73],[35,23,31,73,"_slicedToArray"],[35,37,31,73],[35,38,31,73,"default"],[35,45,31,73],[35,47,31,73,"_useState3"],[35,57,31,73],[36,6,31,9,"currentMarket"],[36,19,31,22],[36,22,31,22,"_useState4"],[36,32,31,22],[37,6,31,24,"setCurrentMarket"],[37,22,31,40],[37,25,31,40,"_useState4"],[37,35,31,40],[38,4,32,2],[38,8,32,2,"_useState5"],[38,18,32,2],[38,21,32,46],[38,25,32,46,"useState"],[38,31,32,54],[38,32,32,54,"useState"],[38,40,32,54],[38,42,32,55],[38,47,32,60],[38,48,32,61],[39,6,32,61,"_useState6"],[39,16,32,61],[39,23,32,61,"_slicedToArray"],[39,37,32,61],[39,38,32,61,"default"],[39,45,32,61],[39,47,32,61,"_useState5"],[39,57,32,61],[40,6,32,9,"needsSelection"],[40,20,32,23],[40,23,32,23,"_useState6"],[40,33,32,23],[41,6,32,25,"setNeedsSelection"],[41,23,32,42],[41,26,32,42,"_useState6"],[41,36,32,42],[42,4,33,2],[42,8,33,2,"_useState7"],[42,18,33,2],[42,21,33,48],[42,25,33,48,"useState"],[42,31,33,56],[42,32,33,56,"useState"],[42,40,33,56],[42,42,33,72],[42,46,33,76],[42,47,33,77],[43,6,33,77,"_useState8"],[43,16,33,77],[43,23,33,77,"_slicedToArray"],[43,37,33,77],[43,38,33,77,"default"],[43,45,33,77],[43,47,33,77,"_useState7"],[43,57,33,77],[44,6,33,9,"detectedCountry"],[44,21,33,24],[44,24,33,24,"_useState8"],[44,34,33,24],[45,6,33,26,"setDetectedCountry"],[45,24,33,44],[45,27,33,44,"_useState8"],[45,37,33,44],[46,4,34,2],[46,8,34,2,"_useState9"],[46,18,34,2],[46,21,34,52],[46,25,34,52,"useState"],[46,31,34,60],[46,32,34,60,"useState"],[46,40,34,60],[46,42,34,76],[46,46,34,80],[46,47,34,81],[47,6,34,81,"_useState0"],[47,16,34,81],[47,23,34,81,"_slicedToArray"],[47,37,34,81],[47,38,34,81,"default"],[47,45,34,81],[47,47,34,81,"_useState9"],[47,57,34,81],[48,6,34,9,"suggestedMarketId"],[48,23,34,26],[48,26,34,26,"_useState0"],[48,36,34,26],[49,6,34,28,"setSuggestedMarketId"],[49,26,34,48],[49,29,34,48,"_useState0"],[49,39,34,48],[50,4,35,2],[50,8,35,2,"_useState1"],[50,18,35,2],[50,21,35,32],[50,25,35,32,"useState"],[50,31,35,40],[50,32,35,40,"useState"],[50,40,35,40],[50,42,35,41],[50,46,35,45],[50,47,35,46],[51,6,35,46,"_useState10"],[51,17,35,46],[51,24,35,46,"_slicedToArray"],[51,38,35,46],[51,39,35,46,"default"],[51,46,35,46],[51,48,35,46,"_useState1"],[51,58,35,46],[52,6,35,9,"loading"],[52,13,35,16],[52,16,35,16,"_useState10"],[52,27,35,16],[53,6,35,18,"setLoading"],[53,16,35,28],[53,19,35,28,"_useState10"],[53,30,35,28],[54,4,37,2],[54,8,37,2,"useEffect"],[54,14,37,11],[54,15,37,11,"useEffect"],[54,24,37,11],[54,26,37,12],[54,32,37,18],[55,6,38,4,"loadMarketData"],[55,20,38,18],[55,21,38,19],[55,22,38,20],[56,4,39,2],[56,5,39,3],[56,7,39,5],[56,9,39,7],[56,10,39,8],[57,4,41,2],[57,8,41,8,"loadMarketData"],[57,22,41,22],[58,6,41,22],[58,10,41,22,"_ref2"],[58,15,41,22],[58,22,41,22,"_asyncToGenerator"],[58,39,41,22],[58,40,41,22,"default"],[58,47,41,22],[58,49,41,25],[58,62,41,37],[59,8,42,4],[59,12,42,8],[60,10,43,6],[61,10,44,6],[61,14,44,12,"marketsResponse"],[61,29,44,27],[61,38,44,36,"api"],[61,50,44,39],[61,51,44,39,"api"],[61,54,44,39],[61,55,44,40,"get"],[61,58,44,43],[61,59,44,44],[61,69,44,54],[61,70,44,55],[62,10,45,6,"setMarkets"],[62,20,45,16],[62,21,45,17,"marketsResponse"],[62,36,45,32],[62,37,45,33,"data"],[62,41,45,37],[62,42,45,38,"markets"],[62,49,45,45],[62,50,45,46],[64,10,47,6],[65,10,48,6],[65,14,48,10,"geoData"],[65,21,48,98],[65,24,48,101],[65,25,48,102],[65,26,48,103],[66,10,49,6],[66,14,49,10],[67,12,50,8],[67,16,50,14,"geoResponse"],[67,27,50,25],[67,36,50,34,"api"],[67,48,50,37],[67,49,50,37,"api"],[67,52,50,37],[67,53,50,38,"get"],[67,56,50,41],[67,57,50,42],[67,70,50,55],[67,71,50,56],[68,12,51,8,"geoData"],[68,19,51,15],[68,22,51,18,"geoResponse"],[68,33,51,29],[68,34,51,30,"data"],[68,38,51,34],[69,12,52,8,"setDetectedCountry"],[69,30,52,26],[69,31,52,27,"geoData"],[69,38,52,34],[69,39,52,35,"detected_country"],[69,55,52,51],[69,59,52,55],[69,63,52,59],[69,64,52,60],[70,12,53,8,"setSuggestedMarketId"],[70,32,53,28],[70,33,53,29,"geoData"],[70,40,53,36],[70,41,53,37,"suggested_market_id"],[70,60,53,56],[70,64,53,60],[70,68,53,64],[70,69,53,65],[71,10,54,6],[71,11,54,7],[71,12,54,8],[71,19,54,15,"e"],[71,20,54,16],[71,22,54,18],[72,12,55,8,"console"],[72,19,55,15],[72,20,55,16,"log"],[72,23,55,19],[72,24,55,20],[72,53,55,49],[72,54,55,50],[73,10,56,6],[75,10,58,6],[76,10,59,6],[76,14,59,12,"token"],[76,19,59,17],[76,28,59,26,"AsyncStorage"],[76,40,59,38],[76,41,59,38,"default"],[76,48,59,38],[76,49,59,39,"getItem"],[76,56,59,46],[76,57,59,47],[76,64,59,54],[76,65,59,55],[77,10,60,6],[77,14,60,10,"token"],[77,19,60,15],[77,21,60,17],[78,12,61,8],[78,16,61,12],[79,14,62,10],[79,18,62,16,"marketResponse"],[79,32,62,30],[79,41,62,39,"api"],[79,53,62,42],[79,54,62,42,"api"],[79,57,62,42],[79,58,62,43,"get"],[79,61,62,46],[79,62,62,47],[79,74,62,59],[79,75,62,60],[80,14,63,10],[80,18,63,14,"marketResponse"],[80,32,63,28],[80,33,63,29,"data"],[80,37,63,33],[80,38,63,34,"market"],[80,44,63,40],[80,46,63,42],[81,16,64,12,"setCurrentMarket"],[81,32,64,28],[81,33,64,29,"marketResponse"],[81,47,64,43],[81,48,64,44,"data"],[81,52,64,48],[81,53,64,49,"market"],[81,59,64,55],[81,60,64,56],[82,16,65,12,"setNeedsSelection"],[82,33,65,29],[82,34,65,30],[82,39,65,35],[82,40,65,36],[83,14,66,10],[83,15,66,11],[83,21,66,17],[84,16,67,12],[85,16,68,12],[86,16,69,12],[86,20,69,18,"suggestedId"],[86,31,69,29],[86,34,69,32,"geoData"],[86,41,69,39],[86,42,69,40,"suggested_market_id"],[86,61,69,59],[86,65,69,63,"geoData"],[86,72,69,70],[86,73,69,71,"market_id"],[86,82,69,80],[87,16,70,12],[87,20,70,16,"suggestedId"],[87,31,70,27],[87,33,70,29],[88,18,71,14],[88,22,71,20,"suggestedMarket"],[88,37,71,35],[88,40,71,38,"marketsResponse"],[88,55,71,53],[88,56,71,54,"data"],[88,60,71,58],[88,61,71,59,"markets"],[88,68,71,66],[88,69,71,67,"find"],[88,73,71,71],[88,74,72,17,"m"],[88,75,72,26],[88,79,72,31,"m"],[88,80,72,32],[88,81,72,33,"market_id"],[88,90,72,42],[88,95,72,47,"suggestedId"],[88,106,73,14],[88,107,73,15],[89,18,74,14],[89,22,74,18,"suggestedMarket"],[89,37,74,33],[89,39,74,35],[90,20,75,16,"setCurrentMarket"],[90,36,75,32],[90,37,75,33,"suggestedMarket"],[90,52,75,48],[90,53,75,49],[91,20,76,16],[92,20,77,16],[92,24,77,20],[93,22,78,18],[93,28,78,24,"api"],[93,40,78,27],[93,41,78,27,"api"],[93,44,78,27],[93,45,78,28,"put"],[93,48,78,31],[93,49,78,32],[93,61,78,44],[93,63,78,46],[94,24,78,48,"market_id"],[94,33,78,57],[94,35,78,59,"suggestedMarket"],[94,50,78,74],[94,51,78,75,"market_id"],[95,22,78,85],[95,23,78,86],[95,24,78,87],[96,20,79,16],[96,21,79,17],[96,22,79,18],[96,29,79,25,"e"],[96,30,79,26],[96,32,79,28],[97,22,80,18,"console"],[97,29,80,25],[97,30,80,26,"error"],[97,35,80,31],[97,36,80,32],[97,65,80,61],[97,67,80,63,"e"],[97,68,80,64],[97,69,80,65],[98,20,81,16],[99,20,82,16,"setNeedsSelection"],[99,37,82,33],[99,38,82,34],[99,43,82,39],[99,44,82,40],[100,18,83,14],[100,19,83,15],[100,25,83,21],[101,20,84,16],[102,20,85,16],[102,24,85,20,"marketsResponse"],[102,39,85,35],[102,40,85,36,"data"],[102,44,85,40],[102,45,85,41,"markets"],[102,52,85,48],[102,53,85,49,"length"],[102,59,85,55],[102,62,85,58],[102,63,85,59],[102,65,85,61],[103,22,86,18],[103,26,86,24,"fallbackMarket"],[103,40,86,38],[103,43,86,41,"marketsResponse"],[103,58,86,56],[103,59,86,57,"data"],[103,63,86,61],[103,64,86,62,"markets"],[103,71,86,69],[103,72,86,70],[103,73,86,71],[103,74,86,72],[104,22,87,18,"setCurrentMarket"],[104,38,87,34],[104,39,87,35,"fallbackMarket"],[104,53,87,49],[104,54,87,50],[105,22,88,18],[105,26,88,22],[106,24,89,20],[106,30,89,26,"api"],[106,42,89,29],[106,43,89,29,"api"],[106,46,89,29],[106,47,89,30,"put"],[106,50,89,33],[106,51,89,34],[106,63,89,46],[106,65,89,48],[107,26,89,50,"market_id"],[107,35,89,59],[107,37,89,61,"fallbackMarket"],[107,51,89,75],[107,52,89,76,"market_id"],[108,24,89,86],[108,25,89,87],[108,26,89,88],[109,22,90,18],[109,23,90,19],[109,24,90,20],[109,31,90,27,"e"],[109,32,90,28],[109,34,90,30],[110,24,91,20,"console"],[110,31,91,27],[110,32,91,28,"error"],[110,37,91,33],[110,38,91,34],[110,76,91,72],[110,78,91,74,"e"],[110,79,91,75],[110,80,91,76],[111,22,92,18],[112,22,93,18,"setNeedsSelection"],[112,39,93,35],[112,40,93,36],[112,45,93,41],[112,46,93,42],[113,20,94,16],[113,21,94,17],[113,27,94,23],[114,22,95,18,"setNeedsSelection"],[114,39,95,35],[114,40,95,36],[114,44,95,40],[114,45,95,41],[115,20,96,16],[116,18,97,14],[117,16,98,12],[117,17,98,13],[117,23,98,19],[118,18,99,14],[119,18,100,14],[119,22,100,18,"marketsResponse"],[119,37,100,33],[119,38,100,34,"data"],[119,42,100,38],[119,43,100,39,"markets"],[119,50,100,46],[119,51,100,47,"length"],[119,57,100,53],[119,60,100,56],[119,61,100,57],[119,63,100,59],[120,20,101,16],[120,24,101,22,"fallbackMarket"],[120,39,101,36],[120,42,101,39,"marketsResponse"],[120,57,101,54],[120,58,101,55,"data"],[120,62,101,59],[120,63,101,60,"markets"],[120,70,101,67],[120,71,101,68],[120,72,101,69],[120,73,101,70],[121,20,102,16,"setCurrentMarket"],[121,36,102,32],[121,37,102,33,"fallbackMarket"],[121,52,102,47],[121,53,102,48],[122,20,103,16],[122,24,103,20],[123,22,104,18],[123,28,104,24,"api"],[123,40,104,27],[123,41,104,27,"api"],[123,44,104,27],[123,45,104,28,"put"],[123,48,104,31],[123,49,104,32],[123,61,104,44],[123,63,104,46],[124,24,104,48,"market_id"],[124,33,104,57],[124,35,104,59,"fallbackMarket"],[124,50,104,73],[124,51,104,74,"market_id"],[125,22,104,84],[125,23,104,85],[125,24,104,86],[126,20,105,16],[126,21,105,17],[126,22,105,18],[126,29,105,25,"e"],[126,30,105,26],[126,32,105,28],[127,22,106,18,"console"],[127,29,106,25],[127,30,106,26,"error"],[127,35,106,31],[127,36,106,32],[127,74,106,70],[127,76,106,72,"e"],[127,77,106,73],[127,78,106,74],[128,20,107,16],[129,20,108,16,"setNeedsSelection"],[129,37,108,33],[129,38,108,34],[129,43,108,39],[129,44,108,40],[130,18,109,14],[130,19,109,15],[130,25,109,21],[131,20,110,16,"setNeedsSelection"],[131,37,110,33],[131,38,110,34],[131,42,110,38],[131,43,110,39],[132,18,111,14],[133,16,112,12],[134,14,113,10],[135,12,114,8],[135,13,114,9],[135,14,114,10],[135,21,114,17,"e"],[135,22,114,18],[135,24,114,20],[136,14,115,10],[137,14,116,10],[138,14,117,10],[138,18,117,14,"marketsResponse"],[138,33,117,29],[138,34,117,30,"data"],[138,38,117,34],[138,39,117,35,"markets"],[138,46,117,42],[138,47,117,43,"length"],[138,53,117,49],[138,56,117,52],[138,57,117,53],[138,59,117,55],[139,16,118,12],[139,20,118,18,"fallbackMarket"],[139,36,118,32],[139,39,118,35,"marketsResponse"],[139,54,118,50],[139,55,118,51,"data"],[139,59,118,55],[139,60,118,56,"markets"],[139,67,118,63],[139,68,118,64],[139,69,118,65],[139,70,118,66],[140,16,119,12,"setCurrentMarket"],[140,32,119,28],[140,33,119,29,"fallbackMarket"],[140,49,119,43],[140,50,119,44],[141,16,120,12,"setNeedsSelection"],[141,33,120,29],[141,34,120,30],[141,39,120,35],[141,40,120,36],[142,14,121,10],[142,15,121,11],[142,21,121,17],[143,16,122,12,"setNeedsSelection"],[143,33,122,29],[143,34,122,30],[143,38,122,34],[143,39,122,35],[144,14,123,10],[145,12,124,8],[146,10,125,6],[146,11,125,7],[146,17,125,13],[147,12,126,8],[148,12,127,8],[148,16,127,14,"storedMarketId"],[148,30,127,28],[148,39,127,37,"AsyncStorage"],[148,51,127,49],[148,52,127,49,"default"],[148,59,127,49],[148,60,127,50,"getItem"],[148,67,127,57],[148,68,127,58],[148,88,127,78],[148,89,127,79],[149,12,128,8],[149,16,128,12,"storedMarketId"],[149,30,128,26],[149,34,128,30,"marketsResponse"],[149,49,128,45],[149,50,128,46,"data"],[149,54,128,50],[149,55,128,51,"markets"],[149,62,128,58],[149,64,128,60],[150,14,129,10],[150,18,129,16,"found"],[150,23,129,21],[150,26,129,24,"marketsResponse"],[150,41,129,39],[150,42,129,40,"data"],[150,46,129,44],[150,47,129,45,"markets"],[150,54,129,52],[150,55,129,53,"find"],[150,59,129,57],[150,60,130,13,"m"],[150,61,130,22],[150,65,130,27,"m"],[150,66,130,28],[150,67,130,29,"market_id"],[150,76,130,38],[150,81,130,43,"storedMarketId"],[150,95,131,10],[150,96,131,11],[151,14,132,10],[151,18,132,14,"found"],[151,23,132,19],[151,25,132,21],[152,16,133,12,"setCurrentMarket"],[152,32,133,28],[152,33,133,29,"found"],[152,38,133,34],[152,39,133,35],[153,16,134,12,"setNeedsSelection"],[153,33,134,29],[153,34,134,30],[153,39,134,35],[153,40,134,36],[154,14,135,10],[154,15,135,11],[154,21,135,17],[155,16,136,12,"setNeedsSelection"],[155,33,136,29],[155,34,136,30],[155,38,136,34],[155,39,136,35],[156,14,137,10],[157,12,138,8],[157,13,138,9],[157,19,138,15],[158,14,139,10],[159,14,140,10,"setNeedsSelection"],[159,31,140,27],[159,32,140,28],[159,36,140,32],[159,37,140,33],[160,12,141,8],[161,10,142,6],[162,8,143,4],[162,9,143,5],[162,10,143,6],[162,17,143,13,"error"],[162,22,143,18],[162,24,143,20],[163,10,144,6,"console"],[163,17,144,13],[163,18,144,14,"error"],[163,23,144,19],[163,24,144,20],[163,53,144,49],[163,55,144,51,"error"],[163,60,144,56],[163,61,144,57],[164,10,145,6],[165,10,146,6,"setNeedsSelection"],[165,27,146,23],[165,28,146,24],[165,33,146,29],[165,34,146,30],[166,8,147,4],[166,9,147,5],[166,18,147,14],[167,10,148,6,"setLoading"],[167,20,148,16],[167,21,148,17],[167,26,148,22],[167,27,148,23],[168,8,149,4],[169,6,150,2],[169,7,150,3],[170,6,150,3],[170,22,41,8,"loadMarketData"],[170,36,41,22,"loadMarketData"],[170,37,41,22],[171,8,41,22],[171,15,41,22,"_ref2"],[171,20,41,22],[171,21,41,22,"apply"],[171,26,41,22],[171,33,41,22,"arguments"],[171,42,41,22],[172,6,41,22],[173,4,41,22],[173,7,150,3],[174,4,152,2],[174,8,152,8,"selectMarket"],[174,20,152,20],[175,6,152,20],[175,10,152,20,"_ref3"],[175,15,152,20],[175,22,152,20,"_asyncToGenerator"],[175,39,152,20],[175,40,152,20,"default"],[175,47,152,20],[175,49,152,23],[175,60,152,30,"marketId"],[175,68,152,46],[175,70,152,51],[176,8,153,4],[176,12,153,8],[177,10,154,6],[177,14,154,12,"market"],[177,20,154,18],[177,23,154,21,"markets"],[177,30,154,28],[177,31,154,29,"find"],[177,35,154,33],[177,36,154,35,"m"],[177,37,154,36],[177,41,154,41,"m"],[177,42,154,42],[177,43,154,43,"market_id"],[177,52,154,52],[177,57,154,57,"marketId"],[177,65,154,65],[177,66,154,66],[178,10,155,6],[178,14,155,10],[178,15,155,11,"market"],[178,21,155,17],[178,23,155,19],[179,12,156,8],[179,18,156,14],[179,22,156,18,"Error"],[179,27,156,23],[179,28,156,24],[179,44,156,40],[179,45,156,41],[180,10,157,6],[182,10,159,6],[183,10,160,6],[183,16,160,12,"AsyncStorage"],[183,28,160,24],[183,29,160,24,"default"],[183,36,160,24],[183,37,160,25,"setItem"],[183,44,160,32],[183,45,160,33],[183,65,160,53],[183,67,160,55,"marketId"],[183,75,160,63],[183,76,160,64],[184,10,161,6,"setCurrentMarket"],[184,26,161,22],[184,27,161,23,"market"],[184,33,161,29],[184,34,161,30],[185,10,162,6,"setNeedsSelection"],[185,27,162,23],[185,28,162,24],[185,33,162,29],[185,34,162,30],[187,10,164,6],[188,10,165,6],[188,14,165,12,"token"],[188,19,165,17],[188,28,165,26,"AsyncStorage"],[188,40,165,38],[188,41,165,38,"default"],[188,48,165,38],[188,49,165,39,"getItem"],[188,56,165,46],[188,57,165,47],[188,64,165,54],[188,65,165,55],[189,10,166,6],[189,14,166,10,"token"],[189,19,166,15],[189,21,166,17],[190,12,167,8],[190,16,167,12],[191,14,168,10],[191,20,168,16,"api"],[191,32,168,19],[191,33,168,19,"api"],[191,36,168,19],[191,37,168,20,"post"],[191,41,168,24],[191,42,168,25],[191,54,168,37],[191,56,168,39],[192,16,168,41,"market_id"],[192,25,168,50],[192,27,168,52,"marketId"],[193,14,168,61],[193,15,168,62],[193,16,168,63],[194,12,169,8],[194,13,169,9],[194,14,169,10],[194,21,169,17,"e"],[194,22,169,18],[194,24,169,20],[195,14,170,10],[196,14,171,10,"console"],[196,21,171,17],[196,22,171,18,"log"],[196,25,171,21],[196,26,171,22],[196,59,171,55],[196,60,171,56],[197,12,172,8],[198,10,173,6],[199,8,174,4],[199,9,174,5],[199,10,174,6],[199,17,174,13,"error"],[199,22,174,18],[199,24,174,20],[200,10,175,6,"console"],[200,17,175,13],[200,18,175,14,"error"],[200,23,175,19],[200,24,175,20],[200,50,175,46],[200,52,175,48,"error"],[200,57,175,53],[200,58,175,54],[201,10,176,6],[201,16,176,12,"error"],[201,21,176,17],[202,8,177,4],[203,6,178,2],[203,7,178,3],[204,6,178,3],[204,22,152,8,"selectMarket"],[204,34,152,20,"selectMarket"],[204,35,152,20,"_x"],[204,37,152,20],[205,8,152,20],[205,15,152,20,"_ref3"],[205,20,152,20],[205,21,152,20,"apply"],[205,26,152,20],[205,33,152,20,"arguments"],[205,42,152,20],[206,6,152,20],[207,4,152,20],[207,7,178,3],[208,4,180,2],[208,8,180,8,"refreshMarket"],[208,21,180,21],[209,6,180,21],[209,10,180,21,"_ref4"],[209,15,180,21],[209,22,180,21,"_asyncToGenerator"],[209,39,180,21],[209,40,180,21,"default"],[209,47,180,21],[209,49,180,24],[209,62,180,36],[210,8,181,4,"setLoading"],[210,18,181,14],[210,19,181,15],[210,23,181,19],[210,24,181,20],[211,8,182,4],[211,14,182,10,"loadMarketData"],[211,28,182,24],[211,29,182,25],[211,30,182,26],[212,6,183,2],[212,7,183,3],[213,6,183,3],[213,22,180,8,"refreshMarket"],[213,35,180,21,"refreshMarket"],[213,36,180,21],[214,8,180,21],[214,15,180,21,"_ref4"],[214,20,180,21],[214,21,180,21,"apply"],[214,26,180,21],[214,33,180,21,"arguments"],[214,42,180,21],[215,6,180,21],[216,4,180,21],[216,7,183,3],[217,4,185,2],[217,24,186,4],[217,28,186,4,"_reactJsxDevRuntime"],[217,47,186,4],[217,48,186,4,"jsxDEV"],[217,54,186,4],[217,56,186,5,"MarketContext"],[217,69,186,18],[217,70,186,19,"Provider"],[217,78,186,27],[218,6,187,6,"value"],[218,11,187,11],[218,13,187,13],[219,8,188,8,"markets"],[219,15,188,15],[220,8,189,8,"currentMarket"],[220,21,189,21],[221,8,190,8,"needsSelection"],[221,22,190,22],[222,8,191,8,"detectedCountry"],[222,23,191,23],[223,8,192,8,"suggestedMarketId"],[223,25,192,25],[224,8,193,8,"loading"],[224,15,193,15],[225,8,194,8,"selectMarket"],[225,20,194,20],[226,8,195,8,"refreshMarket"],[227,6,196,6],[227,7,196,8],[228,6,196,8,"children"],[228,14,196,8],[228,16,198,7,"children"],[229,4,198,15],[230,6,198,15,"fileName"],[230,14,198,15],[230,16,198,15,"_jsxFileName"],[230,28,198,15],[231,6,198,15,"lineNumber"],[231,16,198,15],[232,6,198,15,"columnNumber"],[232,18,198,15],[233,4,198,15],[233,11,199,28],[233,12,199,29],[234,2,201,0],[235,2,201,1,"_s"],[235,4,201,1],[235,5,29,16,"MarketProvider"],[235,19,29,30],[236,2,29,30,"_c"],[236,4,29,30],[236,7,29,16,"MarketProvider"],[236,21,29,30],[237,2,203,7],[237,11,203,16,"useMarket"],[237,20,203,25,"useMarket"],[237,21,203,25],[237,23,203,28],[238,4,203,28,"_s2"],[238,7,203,28],[239,4,204,2],[239,8,204,8,"context"],[239,15,204,15],[239,18,204,18],[239,22,204,18,"useContext"],[239,28,204,28],[239,29,204,28,"useContext"],[239,39,204,28],[239,41,204,29,"MarketContext"],[239,54,204,42],[239,55,204,43],[240,4,205,2],[240,8,205,6,"context"],[240,15,205,13],[240,20,205,18,"undefined"],[240,29,205,27],[240,31,205,29],[241,6,206,4],[241,12,206,10],[241,16,206,14,"Error"],[241,21,206,19],[241,22,206,20],[241,70,206,68],[241,71,206,69],[242,4,207,2],[243,4,208,2],[243,11,208,9,"context"],[243,18,208,16],[244,2,209,0],[245,2,209,1,"_s2"],[245,5,209,1],[245,6,203,16,"useMarket"],[245,15,203,25],[246,2,203,25],[246,6,203,25,"_c"],[246,8,203,25],[247,2,203,25,"$RefreshReg$"],[247,14,203,25],[247,15,203,25,"_c"],[247,17,203,25],[248,0,203,25],[248,3]],"functionMap":{"names":["<global>","MarketProvider","useEffect$argument_0","loadMarketData","marketsResponse.data.markets.find$argument_0","selectMarket","markets.find$argument_0","refreshMarket","useMarket"],"mappings":"AAA;OC4B;YCQ;GDE;yBEE;gBC+B,0CD;YC0D,6CD;GFoB;uBIE;kCCE,+BD;GJwB;wBME;GNG;CDkB;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}